{
  "name": "Dma",
  "base": "BaseModel",
  "strict": true,
  "idInjection": true,
  "indexes": {
    "parentDmaIndex": {
      "parentDmaId": 1
    },
    "fullText": {
      "keys": {
        "name": "text"
      },
      "options": {
        "weights": {
          "name": 10
        }
      }
    }
  },
  "options": {
    "validateUpsert": true
  },
  "forceId": false,
  "properties": {
    "name": {
      "type": "string",
      "required": true,
      "index": true,
      "max": 32
    },
    "level": {
      "type": "number",
      "required": true,
      "index": true
    },
    "slug": {
      "type": "string",
      "required": true,
      "index": true,
      "pattern": "^[a-z0-9]+(?:-[a-z0-9]+)*$"
    },
    "state": {
      "type": "object",
      "description": "ex: { reported: {flow: {value: 400, time: 1581566688060}}"
    },
    "avgDemandDay": {
      "type": "number",
      "required": true,
      "min": 0
    },
    "population": {
      "type": "number"
    },
    "supplyCapacityDay": {
      "type": "number",
      "required": true,
      "min": 0
    },
    "designPressure": {
      "type": "number",
      "required": true,
      "default": 1,
      "min": 0.5
    },
    "center": {
      "type": "geopoint",
      "required": true,
      "index": true
    },
    "boundary": {
      "type": [
        "object"
      ],
      "required": true
    }
  },
  "validations": [],
  "relations": {
    "parentDma": {
      "type": "belongsTo",
      "model": "Dma",
      "factory": {
        "type": "Factory",
        "model": "Dma"
      }
    }
  },
  "acls": [],
  "methods": {}
}
