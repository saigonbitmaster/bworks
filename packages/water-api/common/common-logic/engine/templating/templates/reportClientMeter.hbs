<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
        html, body {
          height: 100vh;
          background-color: #f5f5f5
        }
        body {
          font: normal 14px Arial, sans-serif;
        }
        table {
          border-collapse: collapse;
          width: 80%;
          margin: auto;
        }
        th, td {
          padding: 10px;
          text-align: left;
          border-bottom: 1px solid rgb(218, 216, 216)
        }
        #title-block {
          margin: auto;
        }
        #report-title {
          text-align: center
        }
        #statistics-block {
          width: 80%;
          margin: auto;
          margin-bottom: 25px;
        }
        .individual-statistics-block {
          border-left: 6px solid #351c75;
          background-color: #e3e9ec;
          padding: 0.5em;
          font-size: 1.2em;
          margin-top: 0;
          margin-bottom: 5px;
        }
        #logo {
          max-width: 5%;
          height: auto
        }
        header {
          margin-left: 10px;
        }
    </style>
  </head>
  <body>
    <header>
      <p>
        <img id="logo" src="{{{logo}}}" alt="companyLogo" align="center"/> 
          {{companyName}}
      </p>
    </header>
    <h1 id="report-title">Báo cáo Sử dụng Đồng hồ</h1>
    <div id="statistics-block">
      <p class="individual-statistics-block">Tháng {{date.month}}/{{date.year}}</h5>
      {{#if geo}}
        <p class="individual-statistics-block">{{geo.province}}</h5>
        {{#if geo.district}}
          <p class="individual-statistics-block"> {{geo.district}}</h5>
        {{/if}}
        {{#if geo.ward}}
          <p class="individual-statistics-block">{{geo.ward}}</h5>
        {{/if}}
      {{/if}}
      <p class="individual-statistics-block"> Tổng số đồng hồ: {{sumTotalMeter}} (ĐH)</p>
      <p class="individual-statistics-block">Số lượng trong thời hạn: {{sumTotalValidMeter}} (ĐH)</p>
      <p class="individual-statistics-block">Số lượng sắp hết hạn: {{sumTotalNearExpired}} (ĐH)</p>
      <p class="individual-statistics-block">Số lượng quá hạn: {{sumTotalExpired}} (ĐH)</p>
    </div>
    <table>
      <thead>
        {{#unless geo.ward}}
          {{#unless geo.district}}
            <th>Quận/Huyện</th>
          {{else}}
            <th>Xã/Phường/Thị trấn</th>
          {{/unless}}
        {{else}}
          <th>Xã/Phường/Thị trấn</th>
        {{/unless}}
        <th>Trong thời hạn</th>
        <th>Sắp hết hạn</th>
        <th>Quá hạn</th>
        <th>Tổng số đồng hồ</th>
      </thead>
      <tbody>
        {{#each statistics}}
          <tr>
              {{#with this}}
                <td>{{geo}}</td>
                <td>{{valid}}</td>
                <td>{{nearExpired}}</td>
                <td>{{expired}}</td>
                <td>{{totalMeter}}</td>
              {{/with}}
          </tr>
        {{/each}}
      </tbody>
    </table>
  </body>
</html>