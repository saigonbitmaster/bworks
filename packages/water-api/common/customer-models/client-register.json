{
  "name": "ClientRegister",
  "base": "BaseModel",
  "idInjection": true,
  "options": {
    "validateUpsert": true
  },
  "indexes": {
    "fullText": {
      "keys": {
        "name": "text",
        "formattedAddress": "text",
        "buyerIdNo": "text"
      },
      "options": {
        "weights": {
          "name": 10,
          "formattedAddress": 6,
          "buyerIdNo": 8
        }
      }
    }
  },
  "properties": {
    "name": {
      "type": "string",
      "required": true
    },
    "formattedAddress": {
      "type": "string"
    },
    "phoneNumber": {
      "type": "string"
    },
    "type": {
      "type": "string",
      "enum": [
        "RESIDENT",
        "ORGANIZATION",
        "INDUSTRY",
        "SERVICE"
      ],
      "default": "RESIDENT"
    },
    "position": {
      "type": "geopoint",
      "index": true
    },
    "familyCount": {
      "type": "string",
      "required": true
    },
    "memberCount": {
      "type": "string",
      "required": true
    },
    "status": {
      "type": "string",
      "enum": [
        "NEW",
        "CONTRACT_SIGNED",
        "INSTALL_WAITING",
        "COMPLETE"
      ],
      "default": "NEW"
    },
    "buyerIdType": {
      "type": "string",
      "enum": [
        "1",
        "2",
        "3"
      ],
      "default": "1",
      "max": 1
    },
    "buyerIdNo": {
      "type": "string",
      "max": 20
    },
    "buyerFaxNumber": {
      "type": "string",
      "max": 20
    },
    "buyerEmail": {
      "type": "string",
      "max": 50
    },
    "buyerBankName": {
      "type": "string",
      "max": 256
    },
    "buyerBankAccount": {
      "type": "string",
      "max": 20
    },
    "statusSurvey": {
      "type": "boolean",
      "default": false
    },
    "resultSurvey": {
      "type": "boolean",
      "default": false
    }
  },
  "validations": [],
  "relations": {
    "province": {
      "type": "belongsTo",
      "model": "GeoProvince",
      "foreignKey": "provinceId"
    },
    "district": {
      "type": "belongsTo",
      "model": "GeoDistrict",
      "foreignKey": "districtId"
    },
    "ward": {
      "type": "belongsTo",
      "model": "GeoWard",
      "foreignKey": "wardId"
    },
    "quarter": {
      "type": "belongsTo",
      "model": "GeoQuarter",
      "foreignKey": "quarterId"
    },
    "client": {
      "type": "hasOne",
      "model": "Client",
      "foreignKey": "clientId"
    },
    "provider": {
      "type": "belongsTo",
      "model": "WaterProvider",
      "foreignKey": "providerId"
    },
    "dmaLevel1": {
      "type": "belongsTo",
      "model": "Dma"
    },
    "dmaLevel2": {
      "type": "belongsTo",
      "model": "Dma"
    }
  },
  "acls": [],
  "methods": {}
}
